<!DOCTYPE html>
<html>
<head>
<title>Unit 2 Test - The World Between Two World Wars</title>
<style>
body {
    font-family: Arial, sans-serif;
    padding: 20px;
}
.question {
    margin-bottom: 20px;
}
.timer {
    font-size: 20px;
    font-weight: bold;
    color: red;
}
button {
    padding: 10px 15px;
    margin-top: 10px;
}
</style>
</head>
<body>

<h2>UNIT 2 – THE WORLD BETWEEN TWO WORLD WARS</h2>
<div class="timer">Time Left: <span id="time"></span> seconds</div>

<form id="quizForm"></form>

<button type="button" onclick="submitQuiz()">Submit</button>

<h3 id="result"></h3>

<script>

const questions = [

{
question: `1. On which date did the "Great Crash" of the US Stock Market occur, triggering the Great Depression?`,
options: [
"October 15, 1929",
"October 24, 1929",
"November 11, 1918",
"January 26, 1930"
],
answer: 1
},

{
question: `2. Consider the following statements regarding the rise of Mussolini in Italy:<br>
1. Mussolini founded the Fascist Party in 1919.<br>
2. He organized the "March on Rome" in 1922 to show his force.<br>
3. He assumed the title 'Il Duce', which means 'The King'.<br>
Which of the statements given above is/are correct?`,
options: [
"1 and 2 only",
"2 and 3 only",
"1 and 3 only",
"1, 2 and 3"
],
answer: 0,
note: "‘Il Duce’ means ‘The Leader’, not ‘The King’."
},

{
question: `3. Match the following Secret Police/Propaganda organs with their respective leaders/countries:<br>
i. Gestapo - a. Josef Goebbels<br>
ii. Nazi Propaganda - b. Himmler<br>
iii. Black Thursday - c. USA<br>
iv. Third Reich - d. Adolf Hitler`,
options: [
"i-b, ii-a, iii-c, iv-d",
"i-a, ii-b, iii-c, iv-d",
"i-b, ii-a, iii-d, iv-c",
"i-c, ii-a, iii-b, iv-d"
],
answer: 0
},

{
question: `4. Under which Act was "Provincial Autonomy" introduced in British India, abolishing the system of Dyarchy in provinces?`,
options: [
"Government of India Act, 1909",
"Government of India Act, 1919",
"Government of India Act, 1935",
"Indian Independence Act, 1947"
],
answer: 2
},

{
question: `5. Which of the following civilizations is correctly matched with its geographical location?`,
options: [
"Mayas — Peru",
"Incas — Mexico",
"Aztecs — Mexico",
"All are correctly matched"
],
answer: 2,
note: "Mayas (Central America), Incas (Peru), Aztecs (Mexico)."
},

{
question: `6. Who among the following is known as "El Liberator" for his role in the Latin American independence struggles?`,
options: [
"Nelson Mandela",
"Ho Chi Minh",
"Simon Bolivar",
"Hernan Cortes"
],
answer: 2
},

{
question: `7. The "Good Neighbour Policy" towards Latin America was pursued by which US President?`,
options: [
"Theodore Roosevelt",
"Woodrow Wilson",
"Franklin D. Roosevelt",
"Harry Truman"
],
answer: 2
},

{
question: `8. Consider the following statements regarding South Africa:<br>
1. The descendants of the original Dutch settlers were known as Boers or Afrikaners.<br>
2. The policy of 'Apartheid' means 'Separateness'.<br>
3. Nelson Mandela was released from prison in 1990 after 27 years.<br>
Which of the statements given above are correct?`,
options: [
"1 and 2 only",
"2 and 3 only",
"1 and 3 only",
"1, 2 and 3"
],
answer: 3
},

{
question: `9. Consider the following statements regarding the dictators of 20th Century Europe:<br>
1. Adolf Hitler assumed the title of Fuhrer after the death of Hindenburg.<br>
2. Benito Mussolini was known as Il Duce and signed the Lateran Treaty with the Pope in 1929.<br>
3. The Secret State Police in Nazi Germany was known as the Gestapo.<br>
Which of the statements given above is/are correct?`,
options: [
"1 and 2 only",
"2 and 3 only",
"1 and 3 only",
"1, 2 and 3"
],
answer: 3
},

{
question: `10. Which US President introduced the "Good Neighbour Policy" to improve relations and reduce military intervention in Latin America?`,
options: [
"Theodore Roosevelt",
"Woodrow Wilson",
"Franklin D. Roosevelt",
"Harry S. Truman"
],
answer: 2
},

{
question: `11. Which of the following European conquerors was responsible for the collapse of the Incan Empire in Peru?`,
options: [
"Hernan Cortes",
"Francisco Pizarro",
"Pedro I",
"Toussaint L'Ouverture"
],
answer: 1,
note: "Cortes for Mexico (Aztecs) and Pizarro for Peru (Incas)."
},

{
question: `12. Match the following:<br>
i. Ferdinand Lassalle - a. Nazi Propaganda<br>
ii. Josef Goebbels - b. Social Democratic Party<br>
iii. Giacomo Matteotti - c. Afrikaners<br>
iv. Boers - d. Italian Socialist Leader`,
options: [
"i-a, ii-b, iii-c, iv-d",
"i-b, ii-a, iii-d, iv-c",
"i-c, ii-d, iii-a, iv-b",
"i-b, ii-d, iii-a, iv-c"
],
answer: 1
},

{
question: `13. Assertion (A): The Boer War (1899–1902) was a defiance of the Berlin Colonial Conference resolutions.<br>
Reason (R): The Berlin Conference (1884–85) had resolved that Africa should be divided peacefully into spheres of influence among colonial powers.`,
options: [
"Both A and R are correct, and R is the correct explanation of A.",
"Both A and R are correct, but R is NOT the correct explanation of A.",
"A is correct but R is wrong.",
"A is wrong but R is correct."
],
answer: 0
},

{
question: `14. The term "Dollar Imperialism" was most commonly used by nationalists in which region to describe their dislike of US economic dominance?`,
options: [
"Southeast Asia",
"Sub-Saharan Africa",
"Latin America",
"Eastern Europe"
],
answer: 2
},

{
question: `15. Which region in South Africa became a major flashpoint for the Boer War (1899–1902) following the discovery of vast gold reserves?`,
options: [
"Cape Colony",
"Natal",
"Transvaal",
"Orange Free State"
],
answer: 2
},

{
question: `16. Who was the President of Germany that officially designated Adolf Hitler as Chancellor in 1933?`,
options: [
"Kaiser Wilhelm II",
"Von Hindenburg",
"Josef Goebbels",
"Ferdinand Lassalle"
],
answer: 1
},

{
question: `17. The Nazi State of Germany was referred to as:`,
options: [
"The First Reich",
"The Second Reich",
"The Third Reich",
"The Weimar Republic"
],
answer: 2
},

{
question: `18. The dispute between the Kingdom of Italy and the Roman Catholic Church was resolved in 1929 through the signing of the:`,
options: [
"Treaty of Versailles",
"Lateran Treaty",
"Locarno Treaty",
"Treaty of Sèvres"
],
answer: 1
},

{
question: `19. Match the following historical entities with their significance:<br>
i. Transvaal - a. Appointed Hitler as Chancellor<br>
ii. Hindenburg - b. Recognized Vatican as independent<br>
iii. Third Reich - c. Site of major gold discovery<br>
iv. Lateran Treaty - d. Nazi State of Germany`,
options: [
"i-c, ii-a, iii-d, iv-b",
"i-a, ii-c, iii-b, iv-d",
"i-c, ii-b, iii-a, iv-d",
"i-b, ii-a, iii-d, iv-c"
],
answer: 0
},

{
question: `20. Consider the following statements regarding the Lateran Treaty (1929):<br>
1. It was signed between Mussolini and the Roman Catholic Church.<br>
2. It recognized the Vatican City as an independent state.<br>
3. In return, the Church recognized the Kingdom of Italy.<br>
Which of the statements given above are correct?`,
options: [
"1 and 2 only",
"2 and 3 only",
"1 and 3 only",
"1, 2 and 3"
],
answer: 3
}

];

let form = document.getElementById("quizForm");
let resultBox = document.getElementById("result");
let timerDisplay = document.getElementById("time");

let timerInterval;
let totalTime = questions.length * 8;
let timeLeft = totalTime;

// SAME AS UNIT 1 SYSTEM
window.onload = function() {

    let isTakingTest = sessionStorage.getItem("inProgress2");
    let storedData = localStorage.getItem("unit2Result");

    if(isTakingTest === "true"){
        loadQuestions();
        timeLeft = totalTime;
        startTimer();
    }
    else if(storedData){
        showPreviousAttempt();
    }
    else{
        loadQuestions();
        startTimer();
    }
};

function loadQuestions(){
    form.innerHTML = "";
    questions.forEach((q, index) => {
        let div = document.createElement("div");
        div.classList.add("question");
        div.innerHTML = `<p>${q.question}</p>`;
        q.options.forEach((option, i) => {
            div.innerHTML += `
            <label>
                <input type="radio" name="q${index}" value="${i}">
                ${option}
            </label><br>`;
        });
        form.appendChild(div);
    });
}

function startTimer(){
    timerDisplay.innerText = timeLeft;
    timerInterval = setInterval(()=>{
        timeLeft--;
        timerDisplay.innerText = timeLeft;
        if(timeLeft <= 0){
            clearInterval(timerInterval);
            submitQuiz();
        }
    },1000);
}

function submitQuiz(){

    sessionStorage.removeItem("inProgress2");
    clearInterval(timerInterval);

    let score = 0;
    let correctCount = 0;
    let wrongCount = 0;
    let notAnsweredCount = 0;

    questions.forEach((q, index) => {

        let selected = document.querySelector(`input[name="q${index}"]:checked`);
        let selectedValue = selected ? parseInt(selected.value) : null;

        let questionDiv = document.getElementsByClassName("question")[index];
        let oldResult = questionDiv.querySelector(".answerResult");
        if(oldResult) oldResult.remove();

        let resultText = document.createElement("div");
        resultText.classList.add("answerResult");

        if(selectedValue === null){
            notAnsweredCount++;
            resultText.innerHTML = `
                <p style="color:orange;"><b>Not Answered</b></p>
                <p><b>Correct Answer:</b> ${q.options[q.answer]}</p>
                ${q.note ? `<p style="color:blue;"><b>Note for Revision:</b> ${q.note}</p>` : ""}
            `;
        }
        else if(selectedValue === q.answer){
            score += 1;
            correctCount++;
            resultText.innerHTML = `
                <p style="color:green;"><b>✔ Correct (+1)</b></p>
                ${q.note ? `<p style="color:blue;"><b>Note for Revision:</b> ${q.note}</p>` : ""}
            `;
        }
        else{
            score -= 0.25;
            wrongCount++;
            resultText.innerHTML = `
                <p style="color:red;"><b>✘ Wrong (-0.25)</b></p>
                <p><b>Correct Answer:</b> ${q.options[q.answer]}</p>
                ${q.note ? `<p style="color:blue;"><b>Note for Revision:</b> ${q.note}</p>` : ""}
            `;
        }

        questionDiv.appendChild(resultText);
    });

    score = score.toFixed(2);

    resultBox.innerHTML = `
        <div style="background:#f0f0f0; padding:15px; margin-bottom:20px;">
            <h3>Final Score: ${score} / ${questions.length}</h3>
            <p>✔ Correct: ${correctCount}</p>
            <p>✘ Wrong: ${wrongCount}</p>
            <p>⭕ Not Answered: ${notAnsweredCount}</p>
            <button onclick="reattempt()">Reattempt Test</button>
        </div>
    `;

    localStorage.setItem("unit2Result", JSON.stringify({
        score, correctCount, wrongCount, notAnsweredCount
    }));
}

function reattempt(){
    sessionStorage.setItem("inProgress2", "true");
    location.reload();
}

function showPreviousAttempt(){

    let data = JSON.parse(localStorage.getItem("unit2Result"));
    loadQuestions();
    timerDisplay.innerText = "Completed";

    resultBox.innerHTML = `
        <div style="background:#f0f0f0; padding:15px; margin-bottom:20px;">
            <h3>Final Score: ${data.score} / ${questions.length}</h3>
            <p>✔ Correct: ${data.correctCount}</p>
            <p>✘ Wrong: ${data.wrongCount}</p>
            <p>⭕ Not Answered: ${data.notAnsweredCount}</p>
            <button onclick="reattempt()">Reattempt Test</button>
        </div>
    `;
}

</script>
</body>
</html>
